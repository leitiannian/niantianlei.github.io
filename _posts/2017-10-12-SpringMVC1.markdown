---
layout:     post
title:      "SpringMVC学习1-其他"
subtitle:   " \"SpringMVC\""
date:   2017-10-12 10:04:18 +0800
author:     "Nian Tianlei"
header-img: "img/post-bg-2016.jpg"
tags:
    - Java web开发
    - SpringMVC
---


各种组件及其作用：  

前端控制器(DispatcherServlet)：接收请求，响应结果，相当于转发器，中央处理器。减少了其他组件之间的耦合度
处理器映射器(HandlerMapping)：根据请求的url查找Handler
Handler处理器：按照HandlerAdapter的要求编写
处理器适配器(HandlerAdapter)：按照特定规则(HandlerAdapter要求的规则)执行Handler。
视图解析器(ViewResolver)：进行视图解析，根据逻辑视图解析成真正的视图(View)
视图(View)：View是一个接口实现类试吃不同的View类型（jsp,pdf等等）

运行步骤：  

1.发起请求到前端控制器(DispatcherServlet)  
2.前端控制器请求处理器映射器(HandlerMapping)查找Handler(可根据xml配置、注解进行查找)  
3.处理器映射器(HandlerMapping)向前端控制器返回Handler  
4.前端控制器调用处理器适配器(HandlerAdapter)执行Handler  
5.处理器适配器(HandlerAdapter)去执行Handler  
6.Handler执行完，给适配器返回ModelAndView(Springmvc框架的一个底层对象)  
7.处理器适配器(HandlerAdapter)向前端控制器返回ModelAndView  
8.前端控制器(DispatcherServlet)请求视图解析器(ViewResolver)  进行视图解析，根据逻辑视图名解析成真正的视图(jsp)  
9.视图解析器(ViewResolver)向前端控制器(DispatcherServlet)返回View  
10.前端控制器进行视图渲染，即将模型数据(在ModelAndView对象中)填充到request域  
11.前端控制器向用户响应结果  

创建动态web项目，导入项目依赖的jar包。  
在WEB-INF目录下创建web.xml  
配置Spring MVC的入口DispatcherServlet，把所有的请求都提交到该Servlet  
```
<?xml version="1.0" encoding="UTF-8"?>
<web-app version="2.4" xmlns="http://java.sun.com/xml/ns/j2ee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee
http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd">
    <servlet>
        <servlet-name>springmvc</servlet-name>
        <servlet-class>
            org.springframework.web.servlet.DispatcherServlet
        </servlet-class>
        <load-on-startup>1</load-on-startup>
        <!-- 若不配置springmvc加载的配置文件(配置处理器映射器、适配器等等)，
        默认加载WEB-INF/servlet名称-servlet(如springmvc-servlet.xml)-->
    </servlet>
    <servlet-mapping>
        <servlet-name>springmvc</servlet-name>
        <!-- /,所有访问的地址由DispatcherServlet进行解析，
        	对静态文件的解析需要配置不让DispatcherServlet进行解析，
           	 使用此种方式和实现RESTful风格的url -->
        <url-pattern>/</url-pattern>
    </servlet-mapping>
</web-app>
```
在WEB-INF目录下创建 springmvc-servlet.xml,其与上一步中的`<servlet-name>springmvc</servlet-name>`对应  


